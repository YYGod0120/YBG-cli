{"version":3,"sources":["../src/compile/extractMd.ts","../src/utils/time.ts","../src/constant/content.ts","../src/compile/HtmlToNext.ts","../src/compile/compileByRemark.ts","../src/create/writeFiles.ts","../src/create/EssayCss.ts","../src/utils/randomColor.ts","../src/node/cli.ts","../src/create/createMD.ts","../src/create/createImg.ts","../src/remove/removePage.ts","../src/deploy/index.ts","../src/utils/readConfig.ts","../src/create/createI18nFile.ts","../src/compile/translateMd.ts","../src/utils/translate.ts"],"sourcesContent":["import fs from \"fs\";\nimport matter from \"gray-matter\";\nimport { UTCToString } from \"../utils/time\";\nimport path from \"path\";\nimport { basePath, makeImportPic } from \"../constant/content\";\nimport { HtmlToNext } from \"./HtmlToNext\";\n\nimport { mdFile, MdMatter } from \"../../types/files\";\nimport { compileByRemark } from \"./compileByRemark\";\nconst _postFolder = path.join(basePath, \"/_posts\");\n\n// * hash唯一化\nfunction simpleHash(input: string) {\n  let hash = 0;\n  for (let i = 0; i < input.length; i++) {\n    hash += input.charCodeAt(i);\n  }\n  return JSON.stringify(hash % 1000); // 取模以确保哈希值在一定范围内\n}\nexport async function compileFile(project?: string): Promise<mdFile[]> {\n  let compiledFiles: mdFile[] = [];\n  let fileList = fs.readdirSync(_postFolder);\n  if (project) {\n    fileList = fileList.filter((file) => {\n      return file === `${project}.md`;\n    });\n  }\n  for (const file of fileList) {\n    const filePath = path.join(_postFolder, file);\n    const fileContent = fs.readFileSync(filePath, \"utf-8\");\n    const parsedFile = matter(fileContent) as MdMatter;\n    const newMatter = {\n      ...parsedFile,\n      data: { ...parsedFile.data, date: UTCToString(parsedFile.data.date) },\n    };\n    const remarkContent = await compileByRemark(parsedFile.content);\n    const picPath = makeImportPic(remarkContent);\n    const htmlText = HtmlToNext(remarkContent);\n    compiledFiles.push(\n      picPath\n        ? {\n            id: simpleHash(file),\n            mdMatter: newMatter,\n            mdHtml: htmlText,\n            other: {\n              picPath: picPath,\n            },\n          }\n        : { id: simpleHash(file), mdMatter: newMatter, mdHtml: htmlText }\n    );\n  }\n\n  return compiledFiles;\n}\n","import dayjs from \"dayjs\";\n\nexport function UTCToString(date: string): string {\n  return dayjs(date).format(\"YYYY-MM-DD\");\n}\n\nexport const currentDate = dayjs().format(\"YYYY-MM-DD\");\n","import path from \"path\";\nimport { mdFile } from \"../../types/files\";\nexport const basePath = path.join(process.cwd(), \"./\");\nexport const ESSAYCSS = `\nblockquote {\n  margin-left: 0;\n  border-left: 4px solid #bac2cb;\n  padding-left: 12px;\n  color: #4e5969;\n}\nul {\n  margin: 0;\n  padding-left: 30px;\n}\na {\n  text-decoration: none; /* 移除下划线 */\n  color: #1d9bf0; /* 使用继承的颜色 */\n  cursor: pointer; /* 修改鼠标样式为指针 */\n  outline: none; /* 移除默认的焦点边框 */\n}\np {\n  margin-top: 18px;\n  margin-bottom: 18px;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 30px;\n  margin-bottom: 10px;\n  text-decoration: underline;\n  text-underline-offset: 6px;\n}\n@media screen and (max-width: 540px) {\n  h1 {\n    font-size: 1.5em; /* 1.5倍于基础字体大小 */\n    line-height: 1.5em;\n  }\n\n  h2 {\n    font-size: 1.35em; /* 1.25倍于基础字体大小 */\n    line-height: 1.5em;\n  }\n\n  h3 {\n    font-size: 1.2em; /* 基础字体大小 */\n    line-height: 1.5em;\n  }\n  h4 {\n    font-size: 1.05em; /* 基础字体大小 */\n    line-height: 1.5em;\n  }\n  h5 {\n    font-size: 1em; /* 基础字体大小 */\n    line-height: 1.5em;\n  }\n  h6 {\n    font-size: 1em; /* 基础字体大小 */\n    line-height: 1.5em;\n  }\n}\na:hover{\n  color:#0c7ad8\n}\n`;\n\nexport function makeEssay(title: string, date: string) {\n  const content = `---\ntitle: ${title}\ndate: ${date}\ncategories: \nexcerpt: \n---\n    `;\n  return content;\n}\nexport function makeImportPic(html: string) {\n  let IMGIMPORT = \"\";\n  const fileImgs = html.match(/<img\\s+src=\"(.*?)\"\\s+alt=\"(.*?)\"\\>/g);\n\n  const importStatements = fileImgs?.map((img, index) => {\n    const [, srcValues] = img.match(/src\\s*=\"(.*?)\"/) || [];\n    const oneSrc = srcValues.split(\"/\");\n    const src = oneSrc[oneSrc.length - 1];\n    return (\n      `//@ts-ignore` +\n      \"\\n\" +\n      `import ${src.slice(0, src.lastIndexOf(\".\"))} from \"@/public${srcValues}\"`\n    );\n  });\n\n  if (importStatements) {\n    IMGIMPORT += importStatements.join(\"\\n\");\n  }\n  console.log(IMGIMPORT);\n  return IMGIMPORT;\n}\nexport function makeEssayPage(file: mdFile) {\n  let TEMPLATE = `\n  import Image from \"next/image\";\nimport dynamic from \"next/dynamic\";\n  ${file.other ? file.other.picPath : \"\"}\n  // @ts-ignore\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\n// @ts-ignore\nimport { oneLight } from \"react-syntax-highlighter/dist/esm/styles/prism\";\nimport \"@/app/[language]/essay/essay.css\";\nexport default function Page() {\n  const Comment = dynamic(() => import(\"@/app/[language]/components/Comment\"), {\n    ssr: false,\n  });\n  return (\n    <div>\n    <div className=\"mt-8 bg-white flex flex-col items-start text-lg shadow-lg rounded-sm\">\n    <span className=\"text-4xl text-left lg:px-20 md:px-[2.5vw] px-4 pt-12 text-visit-font font-bold\">\n      ${file.mdMatter.data.title}\n    </span>\n    <span className=\"text-[#86909C] lg:px-20 pt-5 px-4 text-xl mb-5 md:px-[2.5vw]\">\n      Categories: ${file.mdMatter.data.categories} &nbsp;  ${\n    file.mdMatter.data.date\n  }\n    </span>\n    <div className=\"flex text-start break-words flex-col pb-12 lg:px-20 lg:w-[740px] md:w-[90vw] md:px-[2.5vw] w-[95vw] px-[2.5vw]\">\n      ${file.mdHtml}\n    </div>\n    \n  </div>\n  <div className=\"mt-12 py-8 bg-white px-6\">\n  <Comment />\n</div>\n    </div>\n  );\n}`;\n\n  return TEMPLATE;\n}\n","import he from \"he\";\nfunction ImageRepimg(html: string) {\n  const processedHtml = html.replace(\n    /<img\\s+src=\"(.*?)\"\\s+alt=\"(.*?)\"\\>/g,\n    function (match, src, alt) {\n      const modifiedSrc = src.split(\"/\");\n      const newSrc = modifiedSrc[modifiedSrc.length - 1]; // Your modification logic for src\n\n      const modifiedAlt = alt; // Your modification logic for alt\n\n      return `<Image src={${newSrc.slice(\n        0,\n        newSrc.lastIndexOf(\".\")\n      )}} alt=\"${modifiedAlt}\" \n      sizes=\"100vw\"\n      style={{\n        width: \"100%\",\n        height: 'auto',\n      }} />`;\n    }\n  );\n  return processedHtml;\n}\nfunction replaceClassName(html: string) {\n  const processedHtml = html.replace(/class=/g, \"className=\");\n  return processedHtml;\n}\nfunction highLightHtml(html: string) {\n  // 在代码块内的特殊字符前加上 \\\n  const replacedString1 = html.replace(\n    /<pre><code className=\"language-(\\w+)\">([\\s\\S]*?)<\\/code><\\/pre>/g,\n    (_, language, codeContent) => {\n      //转义符删除\n      const decodeCode = he.decode(codeContent);\n      const codeWithBackslash = decodeCode.replace(/([^\\w\\s\"'])/g, \"\\\\$1\");\n      return `<SyntaxHighlighter language=\"${language}\" style={oneLight} showLineNumbers>{ \\`${codeWithBackslash}\\` }</SyntaxHighlighter>`;\n    }\n  );\n\n  return replacedString1;\n}\nexport function HtmlToNext(html: string) {\n  //替换img标签\n  const step1Html = ImageRepimg(html);\n  //替换class为className\n  const step2Html = replaceClassName(step1Html);\n  //高亮代码\n  const step3Html = highLightHtml(step2Html);\n  //闭合分割线\n  const step4Html = step3Html.replace(/<hr>/g, \"<hr />\");\n  return step4Html;\n}\n","import remarkRehype from \"remark-rehype\";\nimport rehypeStringify from \"rehype-stringify\";\nimport remarkGfm from \"remark-gfm\";\nimport remarkParse from \"remark-parse\";\nimport { visit } from \"unist-util-visit\";\nimport { unified } from \"unified\";\n// 自定义插件来查看 HAST\n// function inspectAst() {\n//   return (tree) => {\n//     console.log(JSON.stringify(tree, null, 2));\n//   };\n// }\n\n//禁止中文自动编码\nfunction handleImgSrc() {\n  return (tree) => {\n    visit(tree, \"element\", (node) => {\n      if (node.properties.src) {\n        // 直接保留原始路径，防止任何自动编码\n        node.properties.src = decodeURI(node.properties.src);\n      }\n    });\n  };\n}\nexport async function compileByRemark(content: string) {\n  const processor = unified()\n    .use(remarkParse)\n    .use(remarkGfm)\n    .use(remarkRehype)\n    .use(handleImgSrc)\n    .use(rehypeStringify);\n  const result = await processor.process(content);\n\n  return result.toString();\n}\n","import path from \"path\";\nimport fs from \"fs\";\nimport { basePath, makeEssayPage } from \"../constant/content\";\nimport { mdFile } from \"../../types/files\";\nimport { writeCSS } from \"./EssayCss\";\nimport { rimrafSync } from \"rimraf\";\nimport { getRandomColor } from \"../utils/randomColor\";\n\nexport function writeFile(files: mdFile[]) {\n  // rimrafSync(`${basePath}/app/[language]/essay`, {\n  //   preserveRoot: false,\n  // });\n  files.forEach(async (file) => {\n    rimrafSync(`${basePath}/app/[language]/essay/${file.mdMatter.data.date}`, {\n      preserveRoot: false,\n    });\n    const foldPath = `${basePath}/app/[language]/essay/${file.mdMatter.data.date}/${file.id}`;\n    const filePath = path.join(foldPath, \"page.tsx\");\n    const content = await makeEssayPage(file);\n\n    fs.mkdir(foldPath, { recursive: true }, (error) => {\n      if (error) {\n        console.log(error);\n      } else {\n        writeCSS();\n        fs.writeFile(filePath, content, (err) => {\n          if (err) {\n            console.error(\"Error creating file:\", err);\n          } else {\n            console.log(\n              `Page-${getRandomColor(\n                file.mdMatter.data.title\n              )} created successfully.`\n            );\n          }\n        });\n      }\n    });\n  });\n}\n","import path from \"path\";\nimport fs from \"fs\";\nimport { basePath, ESSAYCSS } from \"../constant/content\";\nexport function writeCSS() {\n  const filePath = path.join(basePath, \"/app/[language]/essay/essay.css\");\n  fs.access(filePath, fs.constants.F_OK, (err) => {\n    if (err) {\n      // 文件不存在，写入文件\n      fs.writeFile(filePath, ESSAYCSS, (writeErr) => {\n        if (writeErr) throw writeErr;\n      });\n    }\n  });\n}\n","import pkg from \"picocolors\";\nconst { cyan, yellow, green, red, blue } = pkg;\nexport function getRandomColor(string: string) {\n  const colors = [cyan, yellow, green, red, blue];\n  const randomIndex = Math.floor(Math.random() * colors.length);\n  return colors[randomIndex](string);\n}\n","import { compileFile } from \"../compile/extractMd\";\nimport { writeFile } from \"../create/writeFiles\";\nimport cac from \"cac\";\nimport { createEssay } from \"../create/createMD\";\nimport { currentDate } from \"../utils/time\";\nimport { createImgs } from \"../create/createImg\";\nimport { removePage } from \"../remove/removePage\";\nimport { writeFileData } from \"../create/createFileData\";\nimport { index, init } from \"../deploy\";\nimport { createI18nFile } from \"../create/createI18nFile\";\nconst cli = cac();\ncli\n  .command(\"compile [project]\", \"mdToTsx\")\n  .option(\"-a, --all\", \"Compile all projects\")\n  .action(async (project, options) => {\n    const { all } = options;\n    const files = all ? await compileFile() : await compileFile(project);\n    writeFile(files);\n    // writeFileData();\n  });\ncli.command(\"create [project]\", \"create the new essay\").action((project) => {\n  createEssay(currentDate, project);\n  createImgs(project);\n});\ncli.command(\"remove [project]\", \"remove the new essay\").action((project) => {\n  removePage(project);\n});\ncli.command(\"init\", \"for deploy\").action(() => {\n  init();\n});\ncli.command(\"deploy\", \"deploy the new essay\").action(() => {\n  index();\n});\ncli.command(\"t\", \"测试\").action(() => {\n  console.log(`开发 ⚡️⚡️⚡️`);\n});\n\ncli.command(\"translate [file]\", \"translate the file\").action(async (file) => {\n  await createI18nFile(file);\n});\ncli.parse();\n","import path from \"path\";\nimport fs from \"fs\";\nimport { basePath, makeEssay } from \"../constant/content\";\nimport { getRandomColor } from \"../utils/randomColor\";\n\nexport function createEssay(date: string, title: string) {\n  const _postsPath = path.join(basePath, \"/_posts\");\n  const filePath = path.join(_postsPath, `${title}.md`);\n  const mdFile = makeEssay(title, date);\n  fs.mkdir(_postsPath, { recursive: true }, (error) => {\n    if (error) {\n      console.log(error);\n    } else {\n      fs.writeFile(filePath, mdFile, (err) => {\n        if (err) {\n          console.error(\"Error creating file:\", err);\n        } else {\n          console.log(`Essay ${getRandomColor(title)} created successfully.`);\n        }\n      });\n    }\n  });\n}\n","import path from \"path\";\nimport fs from \"fs\";\nimport { basePath } from \"../constant/content\";\n\nexport function createImgs(title: string) {\n  const foldPath = `${basePath}/public/imgs/${title}`;\n  fs.mkdir(foldPath, { recursive: true }, (error) => {\n    if (error) console.log(error);\n  });\n}\n","import path from \"path\";\nimport fs from \"fs\";\nimport { rimraf } from \"rimraf\";\nimport { basePath } from \"../constant/content\";\n\nexport function removePage(file: string) {\n  //   const PagePath = `${basePath}/app/essay/${file.mdMatter.data.date}`;\n  const MdPath = path.join(basePath, `/_posts/${file}.md`);\n  fs.unlink(MdPath, (err) => {\n    if (err) {\n      console.error(`Error deleting file: ${err}`);\n    } else {\n      console.log(`File-${file} deleted successfully`);\n    }\n  });\n  const foldPath = `${basePath}/public/imgs/${file}`;\n  rimraf(foldPath, { preserveRoot: false });\n}\n","import fs from \"fs\";\nimport path from \"path\";\nimport { spawn } from \"child_process\";\nimport { readConfig } from \"../utils/readConfig\";\nimport { getRandomColor } from \"../utils/randomColor\";\nconst currentDir = process.cwd();\nconst gitFolderPath = path.join(currentDir, \".git\");\nfunction git(...args) {\n  return new Promise((resolve, reject) => {\n    const child = spawn(\"git\", args, { cwd: currentDir });\n    child.stdout.on(\"data\", (data) => {\n      console.log(data.toString());\n    });\n    child.stderr.on(\"data\", (data) => {\n      console.error(data.toString());\n    });\n    child.on(\"exit\", (code) => {\n      if (code === 0) {\n        resolve(\"over\");\n      } else {\n        reject();\n      }\n    });\n  });\n}\n// * 自定义部署路径仓库以及初始化\nexport async function init() {\n  const json = await readConfig();\n  const { deployCon } = json;\n  // 删除 .git 文件夹\n  fs.rm(gitFolderPath, { recursive: true, force: true }, (err) => {\n    if (err) {\n      console.error(\"删除 .git 文件夹时出错：\", err);\n      return;\n    }\n    git(\"init\", \"-b\", `main`).then(() => {\n      console.log(\"init over\");\n      git(\n        \"remote\",\n        \"add\",\n        `${deployCon.remote_store_name}`,\n        `${deployCon.remote_store_url}`\n      ).then(() => {\n        git(\"add\", \".\").then(() => {\n          git(\"commit\", \"-m\", \"Initial commit\").then(() => {});\n        });\n      });\n    });\n  });\n  console.log(getRandomColor(\"please push to remote rep --force\"));\n}\n\nexport async function index() {\n  const json = await readConfig();\n  const { deployCon } = json;\n  git(\"add\", \".\").then(() => {\n    git(\"commit\", \"-m\", `${deployCon.commitMessage}`).then(() => {\n      git(\"push\", `${deployCon.remote_store_name}`, `${deployCon.branch}`);\n    });\n  });\n}\n","import fs from \"fs\";\nimport os from \"os\";\nimport path from \"path\";\nimport { basePath } from \"../constant/content\";\nimport { Config } from \"../../types/config\";\n\n// JSON 文件路径\n\nexport function readConfig(): Promise<Config> {\n  const jsonFilePath = path.join(basePath, \"_blog.json\");\n  return new Promise((resolve, reject) => {\n    fs.readFile(jsonFilePath, \"utf8\", (err, data) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      try {\n        const jsonData = JSON.parse(data);\n        resolve(jsonData);\n      } catch (error) {\n        reject(error);\n      }\n    });\n  });\n}\n","import fs from \"fs\";\nimport path from \"path\";\nimport { basePath } from \"../constant/content\";\nimport { translateMd } from \"../compile/translateMd\";\nconst i18nFolder = path.join(basePath, \"/app/i18n/locales\");\n\nexport async function createI18nFile(file: string) {\n  const zh = {};\n  const en = {};\n  const tanslation = await translateMd(file);\n  console.log(tanslation);\n\n  tanslation.forEach((item, index) => {\n    zh[index] = item.src;\n    en[index] = item.dst_en;\n  });\n  fs.writeFileSync(\n    path.join(i18nFolder, \"zh-CN\", `essay-${file}.json`),\n    JSON.stringify(zh, null, 2)\n  );\n  fs.writeFileSync(\n    path.join(i18nFolder, \"en-US\", `essay-${file}.json`),\n    JSON.stringify(en, null, 2)\n  );\n}\n","import { unified } from \"unified\";\nimport fs from \"fs\";\nimport stringify from \"remark-stringify\";\nimport markdown from \"remark-parse\";\nimport { translateWord } from \"../utils/translate\";\nimport { visit } from \"unist-util-visit\";\nimport path from \"path\";\nimport { basePath } from \"../constant/content\";\nimport frontmatter from \"remark-frontmatter\";\nimport { tanslation } from \"../../types/translate\";\nconst _postFolder = path.join(basePath, \"/_posts\");\n\nexport async function translateMd(file: string) {\n  //查询文件\n  const filePath = path.join(_postFolder, `${file}.md`);\n  const fileContent = fs.readFileSync(filePath, \"utf-8\");\n  //翻译文件名\n  const title = `essay-${file}.json`;\n  const translation: tanslation = [];\n  // 创建处理器\n  const processor = await unified()\n    .use(markdown)\n    .use(frontmatter, [\"yaml\"])\n    .use(stringify);\n  const ast = processor.parse(fileContent);\n  // 使用 unist-util-visit 遍历AST\n  visit(ast, \"text\", (node) => {\n    if (node.value) {\n      translation.push({ src: node.value.replace(/\\n/g, \"\"), dst_en: \"\" });\n    }\n  });\n  // 翻译\n  for (const item of translation) {\n    const dst = await translateWord(item.src);\n    item.dst_en = dst;\n  }\n  return translation;\n}\n","import crypto from \"crypto\";\nimport fetch from \"node-fetch\";\nimport \"dotenv/config\";\n\nconst URL = \"https://fanyi-api.baidu.com/api/trans/vip/translate\";\nconst APPID = process.env.APPID;\nconst SIGN = process.env.SIGN;\nconst salt = \"1435660288\";\n\nconsole.log(`APPID: ${APPID}, SIGN: ${SIGN}`);\ninterface TranslateRep {\n  to: string;\n  from: string;\n  trans_result: { src: string; dst: string }[];\n}\nfunction utf8Encode(str: string): string {\n  return Buffer.from(str, \"utf-8\").toString();\n}\n\nfunction generateSignature(\n  appid: string,\n  q: string,\n  salt: string,\n  secretKey: string\n): string {\n  // 拼接字符串1\n  const str1 = `${appid}${q}${salt}${secretKey}`;\n  // 计算签名（MD5加密）\n  const sign = crypto.createHash(\"md5\").update(str1, \"utf8\").digest(\"hex\");\n\n  return sign;\n}\nexport async function translateWord(q: string): Promise<string> {\n  if (!APPID || !SIGN) {\n    throw new Error(\"no APPID or no SIGN\");\n  } else {\n    const sign = generateSignature(APPID, q, salt, SIGN);\n    const from = \"zh\";\n    const to = \"en\";\n    const finallyUrl =\n      URL +\n      `?q=${utf8Encode(q)}` +\n      `&from=${from}` +\n      `&to=${to}` +\n      `&appid=${APPID}` +\n      `&salt=${salt}` +\n      `&sign=${sign}`;\n\n    const rep = await fetch(finallyUrl);\n    const data: TranslateRep = (await rep.json()) as TranslateRep;\n    const result = data.trans_result;\n    return result[0].dst;\n  }\n}\n"],"mappings":"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","names":["path","index","path","path","fs","path","fs","path","fs","path","fs","path","fs","path","fs","fs","fs","path","fs","path","fs","fs","path","fs","path","path","fs","path","fs","fs","path","unified","fs","salt","visit","path","_postFolder","path","fs","unified","visit","path","index","fs"]}